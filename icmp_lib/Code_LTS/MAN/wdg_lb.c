/***************************************************************/
/* FUNCTION : Manage the hardware watchdog                     */
/*                                                             */
/* ENVIRONMENT : PPC5554                                       */
/***************************************************************/
#include "standard.h"

#include "cpu_def.h"
#include "cpu_lb.h"
#include "hard_def.h"

#include "wdg_lb.h"


/***************************************************************/
/*                                                             */
/*                         GLOBAL DATA                         */
/*                                                             */
/***************************************************************/


/***************************************************************/
/*                                                             */
/*                      GLOBAL CONSTANTS                       */
/*                                                             */
/***************************************************************/


/***************************************************************/
/*                                                             */
/*                       LOCAL CONSTANTS                       */
/*                                                             */
/***************************************************************/


/***************************************************************/
/*                                                             */
/*                         LOCAL TYPES                         */
/*                                                             */
/***************************************************************/


/***************************************************************/
/*                                                             */
/*                         LOCAL DATA                          */
/*                                                             */
/***************************************************************/


/***************************************************************/
/* Global function : RearmWatchdog                             */
/***************************************************************/
void RearmWatchdog(void)
{
    /* N_CS_WD output (GPIO 205) is set to high  */
    SIU.GPDO[GPIO_WDG_PIN].R = 1;

    /* Call function Waitus, to wait 1 us */
    Waitus(1);

    /* N_CS_WD output (GPIO 205) is set to low */
    SIU.GPDO[GPIO_WDG_PIN].R = 0;
}
